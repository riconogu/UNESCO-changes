<!DOCTYPE html>


<meta charset="utf-8">

<!-- Load d3.js & color scale-->
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.4/nv.d3.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.5/nv.d3.min.js"></script>



<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Grayscale - Start Bootstrap Theme</title>
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand js-scroll-trigger" href="#page-top">Start Bootstrap</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">About</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#projects">Projects</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#signup">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container d-flex h-100 align-items-center">
                <div class="mx-auto text-center">
                    <h1 class="mx-auto my-0 text-uppercase">Grayscale</h1>
                    <h2 class="text-white-50 mx-auto mt-2 mb-5">A free, responsive, one page Bootstrap theme created by Start Bootstrap.</h2>
                    <a class="btn btn-primary js-scroll-trigger" href="#about">Get Started</a>
                </div>
            </div>
        </header>
        <!-- About-->
        <section class="about-section text-center" id="about">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <h2 class="text-white mb-4">Built with Bootstrap 4</h2>
                        <p class="text-white-50">
                            Grayscale is a free Bootstrap theme created by Start Bootstrap. It can be yours right now, simply download the template on
                            <a href="https://startbootstrap.com/theme/grayscale/">the preview page</a>
                            . The theme is open source, and you can use it for any purpose, personal or commercial.
                        </p>
                    </div>
                </div>
                <img class="img-fluid" src="assets/img/ipad.png" alt="" />
            </div>
        </section>
        <!-- Projects-->
        <section class="projects-section bg-light" id="projects">
            <div class="container">
                <!-- Featured Project Row-->
                <div class="row align-items-center no-gutters mb-4 mb-lg-5">
                    <div class="col-xl-8 col-lg-7"><img class="img-fluid mb-3 mb-lg-0" src="assets/img/bg-masthead.jpg" alt="" /></div>
                    <div class="col-xl-4 col-lg-5">
                        <div class="featured-text text-center text-lg-left">
                            <h4>Shoreline</h4>
                            <p class="text-black-50 mb-0">Grayscale is open source and MIT licensed. This means you can use it for any project - even commercial projects! Download it, customize it, and publish your website!</p>
                        </div>
                    </div>
                </div>
                <!-- Project One Row-->
                <div class="row justify-content-center no-gutters">
                 		<!-- Create a div where the graph will take place -->
                        <div id="my_dataviz"></div>
                        <script>

                        // set the dimensions and margins of the graph
                        var margin = {top: 20, right: 30, bottom: 0, left: 10},
                            width = 460 - margin.left - margin.right,
                            height = 400 - margin.top - margin.bottom;

                        // append the svg object to the body of the page
                        var svg = d3.select("#my_dataviz")
                          .append("svg")
                            .attr("width", width + margin.left + margin.right)
                            .attr("height", height + margin.top + margin.bottom)
                          .append("g")
                            .attr("transform",
                                  "translate(" + margin.left + "," + margin.top + ")");

                        // Parse the Data
                        d3.csv("https://raw.githubusercontent.com/riconogu/UNESCO-changes/master/dist/assets/freq_table.csv", function(data) {

                          // List of groups = header of the csv files
                          var keys = data.columns.slice(1)

                          // Add X axis
                          var x = d3.scaleLinear()
                            .domain(d3.extent(data, function(d) { return d.Year; }))
                            .range([ 0, width ]);
                          svg.append("g")
                            .attr("transform", "translate(0," + height*0.8 + ")")
                            .call(d3.axisBottom(x).tickSize(-height*.7).tickValues([1995,2000,2005]))
                            .select(".domain").remove()
                          // Customization
                          svg.selectAll(".tick line").attr("stroke", "#b8b8b8")

                          // Add X axis label:
                          svg.append("text")
                              .attr("text-anchor", "end")
                              .attr("x", width)
                              .attr("y", height-30)
                              .text("Time (year)");

                          // Add Y axis
                          var y = d3.scaleLinear()
                            .domain([-50, 50])
                            //.domain([-100000, 100000])
                            .range([ height, 0 ]);

                          // color palette
                          var color = d3.scaleOrdinal()
                            .domain(keys)
                            .range(d3.schemeDark2);

                          //stack the data?
                          var stackedData = d3.stack()
                            .offset(d3.stackOffsetSilhouette)
                            .keys(keys)
                            (data)

                          // create a tooltip
                          var Tooltip = svg
                            .append("text")
                            .attr("x", 0)
                            .attr("y", 0)
                            .style("opacity", 0)
                            .style("font-size", 17)

                          // Three function that change the tooltip when user hover / move / leave a cell
                          var mouseover = function(d) {
                            Tooltip.style("opacity", 1)
                            d3.selectAll(".myArea").style("opacity", .2)
                            d3.select(this)
                              .style("stroke", "black")
                              .style("opacity", 1)
                          }
                          var mousemove = function(d,i) {
                            grp = keys[i]
                            Tooltip.text(grp)
                          }
                          var mouseleave = function(d) {
                            Tooltip.style("opacity", 0)
                            d3.selectAll(".myArea").style("opacity", 1).style("stroke", "none")
                           }

                          // Area generator
                          var area = d3.area()
                            .x(function(d) { return x(d.data.Year); })
                            .y0(function(d) { return y(d[0]); })
                            .y1(function(d) { return y(d[1]); })

                          // Show the areas
                          svg
                            .selectAll("mylayers")
                            .data(stackedData)
                            .enter()
                            .append("path")
                              .attr("class", "myArea")
                              .style("fill", function(d) { return color(d.key); })
                              .attr("d", area)
                              .on("mouseover", mouseover)
                              .on("mousemove", mousemove)
                              .on("mouseleave", mouseleave)

                        })
                        </script>
                </div>
                
                <!-- Endangered Sites-->
                <div class="row justify-content-center no-gutters">
                              <div class="bg-black text-center h-100 project">
                            <div class="d-flex h-100">
                                <div class="project-text w-100 my-auto text-center text-lg-right">
    <div id="#chart svg"></div>
                                  
    <script>                        
  nv.addGraph(function() {
  var chart = nv.models.pieChart()
      .x(function(d) { return d.label })
      .y(function(d) { return d.value })
      .showLabels(true);

    d3.select("#chart svg")
        .datum(exampleData())
        .transition().duration(350)
        .call(chart);

  return chart;
});
                                        
 function exampleData() {
  return  [
      { 
        "label": "One",
        "value" : 29.765957771107
      } , 
      { 
        "label": "Two",
        "value" : 0
      } , 
      { 
        "label": "Three",
        "value" : 32.807804682612
      } , 
      { 
        "label": "Four",
        "value" : 196.45946739256
      } , 
      { 
        "label": "Five",
        "value" : 0.19434030906893
      } , 
      { 
        "label": "Six",
        "value" : 98.079782601442
      } , 
      { 
        "label": "Seven",
        "value" : 13.925743130903
      } , 
      { 
        "label": "Eight",
        "value" : 5.1387322875705
      }
    ];
}

</script>
                                    
                                    <h4 class="text-white">Frequency of Endagered Sites by Criteria</h4>
                                    <p class="mb-0 text-white-50">As of July 2019, there are 53 entries (17 natural, 36 cultural) on the List of World Heritage in Danger. Arranged by the UNESCO regions, 21 of the listed sites are located in the Arab States (of which 6 are located in Syria and 5 in Libya), 16 in Africa (of which 5 are in the Democratic Republic of the Congo), 6 in Latin America and the Caribbean, 6 in Asia and the Pacific, and 4 in Europe and North America. The majority of the endangered natural sites (12) are located in Africa.</p>
                                    <hr class="d-none d-lg-block mb-0 mr-0" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Signup-->
        <section class="signup-section" id="signup">
            <div class="container">
                <div class="row">
                    <div class="col-md-10 col-lg-8 mx-auto text-center">
                        <i class="far fa-paper-plane fa-2x mb-2 text-white"></i>
                        <h2 class="text-white mb-5">Subscribe to receive updates!</h2>
                        <form class="form-inline d-flex">
                            <input class="form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0" id="inputEmail" type="email" placeholder="Enter email address..." />
                            <button class="btn btn-primary mx-auto" type="submit">Subscribe</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- Contact-->
        <section class="contact-section bg-black">
            <div class="container">
                <div class="row">
                    <div class="col-md-4 mb-3 mb-md-0">
                        <div class="card py-4 h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-map-marked-alt text-primary mb-2"></i>
                                <h4 class="text-uppercase m-0">Address</h4>
                                <hr class="my-4" />
                                <div class="small text-black-50">4923 Market Street, Orlando FL</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3 mb-md-0">
                        <div class="card py-4 h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-envelope text-primary mb-2"></i>
                                <h4 class="text-uppercase m-0">Email</h4>
                                <hr class="my-4" />
                                <div class="small text-black-50"><a href="#!">hello@yourdomain.com</a></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3 mb-md-0">
                        <div class="card py-4 h-100">
                            <div class="card-body text-center">
                                <i class="fas fa-mobile-alt text-primary mb-2"></i>
                                <h4 class="text-uppercase m-0">Phone</h4>
                                <hr class="my-4" />
                                <div class="small text-black-50">+1 (555) 902-8832</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="social d-flex justify-content-center">
                    <a class="mx-2" href="#!"><i class="fab fa-twitter"></i></a>
                    <a class="mx-2" href="#!"><i class="fab fa-facebook-f"></i></a>
                    <a class="mx-2" href="#!"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="footer bg-black small text-center text-white-50"><div class="container">Copyright © Your Website 2020</div></footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
